<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>PICrouter by tkrworks</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/tkrworks/PICrouter">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/tkrworks/PICrouter/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/tkrworks/PICrouter/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>PICrouter</h1>
          <p>Communication between OSC and USB_MIDI/HID/CDC</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/tkrworks">tkrworks</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <div align="center">
<table>
<tr>
<th colspan="4" align="center">INDEX</th>
</tr>
<tr align="center">
<td><a href="#how-to-buy">How to Buy</a></td>
  <td><a href="#licenses">Licenses</a></td>
  <td><a href="#specifications">Specifications</a></td>
  <td><a href="#pin-assign">Pin Assign</a></td>
</tr>
<tr align="center">
<td><a href="#development">Development</a></td>
  <td><a href="#bootloader-application">Bootloader App.</a></td>
  <td><a href="#schematic-and-board-current-ver-is-100">Sch &amp; Brd Data</a></td>
  <td><a href="#application-projects">App. Projects</a></td>
</tr>
<tr align="center">
<td><a href="#tutorial-jp">Tutorial (JP)</a></td>
  <td><a href="#tutorial-en">Tutorial (EN)</a></td>
  <td><a href="#supported-osc-messages">Supported OSC Msgs</a></td>
  <td><a href="#supported-hid-commands">Supported HID Cmds</a></td>
</tr>
</table>
</div>

<h1>
<a name="picrouter" class="anchor" href="#picrouter"><span class="octicon octicon-link"></span></a>PICrouter</h1>

<p>PICrouter is a versatile and prototyping board specialized for <a href="http://opensoundcontrol.org">Open Sound Control</a>.<br>
The main function is to communicate between OSC and USB-MIDI/HID/CDC.</p>

<p>PICrouter will be an useful with the following purpose.</p>

<ul>
<li>Develop an OSC/MIDI/HID/CDC controller for music or visual.</li>
<li>Study a PIC32 microcontroller.</li>
<li>Study a communication with usb and ethernet.</li>
<li>Study mruby programming(ONLY PIC32MX795F512H version)</li>
</ul><p>Demo</p>

<ul>
<li><a href="https://vimeo.com/67548325">Oto Devices Quick Demo</a></li>
<li><a href="http://www.youtube.com/watch?v=xbNTXSsHR5w">PICrouter and MobMuPlat OSC Demo</a></li>
<li><a href="http://www.youtube.com/watch?v=srX1inH3xIY">PICrouter and touchOSC Demo: PWM Control</a></li>
<li><a href="http://youtu.be/5rHGf42VQA8">LED Step Sequencer Test with PICrouter and LED_PAD_16</a></li>
<li><a href="http://youtu.be/yXPXuEcpFhE">LED Intensity Control Test with PICrouter and LED_PAD_16</a></li>
<li><a href="http://youtu.be/imvcYX0qTLs">Multiple LED_ENC_ABS_32 Control Test from PICrouter</a></li>
<li><a href="https://vimeo.com/70006217">Intensity Control Test of RGB_PAD_16 from PICrouter</a></li>
<li><a href="https://vimeo.com/73281314">RGB Step Sequencer Test</a></li>
</ul><div align="center">
<a href="http://www.flickr.com/photos/yamamo2/8369607593/" title="PICrouter v1.0 TOP VIEW by tkrworks, on Flickr"><img src="http://farm9.staticflickr.com/8214/8369607593_3c1b5055e1_z.jpg" width="640" height="206" alt="PICrouter v1.0 TOP VIEW"></a>  
<a href="http://www.flickr.com/photos/yamamo2/8369762163/" title="PICrouter v1.0 ETH/USB VIEW by tkrworks, on Flickr"><img src="http://farm9.staticflickr.com/8219/8369762163_daa2bac802_z.jpg" width="640" height="346" alt="PICrouter v1.0 ETH/USB VIEW"></a>  
</div>

<div align="right">
Photographed by Kiyasu/TechnikLAB*
</div>

<h2>
<a name="how-to-buy" class="anchor" href="#how-to-buy"><span class="octicon octicon-link"></span></a><a name="how-to-buy">How to buy</a>
</h2>

<p>You can buy the PICrouter on <a href="http://atelier.tkrworks.net/shop/index.php?main_page=product_info&amp;cPath=2&amp;products_id=29&amp;language=en">tkrworks online store</a> and <a href="http://www.switch-science.com/catalog/1338/">SWITCH SCIENCE</a>.<br>
The price of product is 7350JPY.</p>

<h2>
<a name="licenses" class="anchor" href="#licenses"><span class="octicon octicon-link"></span></a><a name="licenses">Licenses</a>
</h2>

<p>PICrouter is <strong>Free Hardware</strong> and <strong>Free Software</strong>.</p>

<ul>
<li>Hardware : <a href="http://creativecommons.org/licenses/by-sa/3.0/" title="Creative Commons Attribute-ShareAlike 3.0 Unported">Creative Commons Attribute-ShareAlike 3.0 Unported</a><br>
</li>
<li>Software : GNU General Public License version 3<br>
</li>
</ul><h2>
<a name="specifications" class="anchor" href="#specifications"><span class="octicon octicon-link"></span></a><a name="specifications">Specifications</a>
</h2>

<ol>
<li>Supported mruby(ONLY PIC32MX795F512H version)</li>
<li>Supported mDNS(Bonjour on Mac OS X), DHCP(both server and client).</li>
<li>Supported Open Sound Control.</li>
<li>Supported the multicast addresses(224.0.0.1 and 224.0.0.251).</li>
<li>Supported USB dual role function(DEVICE:MIDI &amp; HID composite / HOST:MIDI &amp; CDC composite).</li>
<li>Supported <a href="http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=1824&amp;appnote=en554836" title="AN1388">USB HID bootloader</a> on Mac OS X and Windows.</li>
<li>PIC32MX675F512H(Freq:80MHz / FLASH:512k / RAM:64k) / PIC32MX795F512H(Freq:80MHz / FLASH:512k / RAM:128k)</li>
<li>A/D port x14</li>
<li>PWM output x4</li>
<li>SPI x2, I2C x3, UART x1, JTAG x1 and CAN x1</li>
<li>100mm x 33.5mm, 4-layers board</li>
</ol><h2>
<a name="pin-assign" class="anchor" href="#pin-assign"><span class="octicon octicon-link"></span></a><a name="pin-assign">Pin Assign</a>
</h2>

<div align="center">
<a href="http://www.flickr.com/photos/yamamo2/8371181045/" title="PICrouter v1.0 PIN ASSIGN by tkrworks, on Flickr"><img src="http://farm9.staticflickr.com/8499/8371181045_ebda98c326_z.jpg" width="465" height="640" alt="PICrouter v1.0 PIN ASSIGN"></a>
<a href="http://www.flickr.com/photos/yamamo2/8658610035/" title="PICrouter v1.0 PIN ASSIGN by tkrworks, on Flickr"><img src="http://farm9.staticflickr.com/8108/8658610035_d72ed7cd0a_z.jpg" width="486" height="640" alt="PICrouter v1.0 PIN ASSIGN"></a>
</div>

<h2>
<a name="development" class="anchor" href="#development"><span class="octicon octicon-link"></span></a><a name="development">Development</a>
</h2>

<ul>
<li>Microchip <a href="http://www.microchip.com/pagehandler/en-us/family/mplabx/">MPLABX</a> v2.00</li>
<li>Microchip <a href="http://www.microchip.com/pagehandler/en_us/devtools/mplabxc/">MPLAB XC32 Compiler</a> v1.22<br><em>To develop application, you can use free version.</em>
</li>
</ul><h2>
<a name="bootloader-application" class="anchor" href="#bootloader-application"><span class="octicon octicon-link"></span></a><a name="bootloader-application">Bootloader Application</a>
</h2>

<ul>
<li>PIC32UBL.exe (Win / Download is <a href="http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=1824&amp;appnote=en554836" title="AN1388">here</a>)</li>
<li>PIC32UBL.maxpat (Mac / See the readme.txt in the folder "PICrouter/PIC32UBL_Max")</li>
</ul><h2>
<a name="schematic-and-board-current-ver-is-100" class="anchor" href="#schematic-and-board-current-ver-is-100"><span class="octicon octicon-link"></span></a><a name="schematic-and-board-current-ver-is-100">Schematic and Board (current ver. is 1.00)</a>
</h2>

<p>PICrouter.sch and .brd are drawn by Eagel v6.<br>
Additionaly, we use <a href="http://www.opencircuits.com/SFE_Footprint_Library_Eagle">Sparkfun eagle library</a>.<br>
This library is also licensed by CC by-SA 3.0.  </p>

<p>And then We extend a special thank you to Tomoya(tomoya723) and Rundog(rundog).<br>
Tomoya gave many advices for designing of this board.<br>
Rundog assisted us with this board's production.</p>

<h2>
<a name="application-projects" class="anchor" href="#application-projects"><span class="octicon octicon-link"></span></a><a name="application-projects">Application Projects</a>
</h2>

<h4>
<a name="picrouter_hidbl-current-ver-is-11" class="anchor" href="#picrouter_hidbl-current-ver-is-11"><span class="octicon octicon-link"></span></a>PICrouter_HIDBL (current ver. is 1.1)</h4>

<p>PICrouter_HIDBL.X is the USB HID Bootloader project files.<br>
  Look at <a href="http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=1824&amp;appnote=en554836" title="AN1388">AN1388</a> for details.  </p>

<h4>
<a name="picrouter-current-ver-is-1110-updated-20131118" class="anchor" href="#picrouter-current-ver-is-1110-updated-20131118"><span class="octicon octicon-link"></span></a>PICrouter (current ver. is 1.11.0) Updated 2013/11/18</h4>

<p>PICrouter is for Open Sound Control and USB Dual Role.<br>
  PICrouter.X is this project folder.<br>
  The Max6 demo patches are in Max_Demo_Patchexs folder.  </p>

<h4>
<a name="picrouter-for-mruby-current-ver-is-023-updated-20140222" class="anchor" href="#picrouter-for-mruby-current-ver-is-023-updated-20140222"><span class="octicon octicon-link"></span></a>PICrouter for mruby (current ver. is 0.2.3) Updated 2014/02/22</h4>

<p>PICrouter for mruby supports mruby, Open Sound Control and USB Dual Role.<br>
  PICrouter_795_mrb.X is this project folder.</p>

<h2>
<a name="tutorial-jp" class="anchor" href="#tutorial-jp"><span class="octicon octicon-link"></span></a><a name="tutorial-jp">Tutorial (JP)</a>
</h2>

<p>Tutorial 0 : <a href="https://github.com/tkrworks/PICrouter/wiki/%E3%81%BE%E3%81%9A%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB">まずはじめに</a><br>
Tutorial 1 : <a href="https://github.com/tkrworks/PICrouter/wiki/OSC%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%87%E3%82%B8%E3%82%BF%E3%83%AB%E5%85%A5%E5%87%BA%E5%8A%9B%E3%81%AE%E5%88%B6%E5%BE%A1">OSCを使ったデジタル入出力の制御</a><br>
Tutorial 2 : <a href="https://github.com/tkrworks/PICrouter/wiki/OSC%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%A2%E3%83%8A%E3%83%AD%E3%82%B0%E5%85%A5%E5%8A%9B%E3%81%AE%E5%88%B6%E5%BE%A1">OSCを使ったアナログ入力の制御</a><br>
Tutorial 3 : <a href="https://github.com/tkrworks/PICrouter/wiki/OSC%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9FPWM%E5%87%BA%E5%8A%9B%E3%81%AE%E5%88%B6%E5%BE%A1">OSCを使ったPWMの制御</a><br>
Tutorial 4 : <a href="https://github.com/tkrworks/PICrouter/wiki/OSC%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9FSPI%E3%81%AE%E5%88%B6%E5%BE%A1">OSCを使ったSPIの制御</a><br>
Tutorial 5 : <a href="https://github.com/tkrworks/PICrouter/wiki/%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E8%A8%AD%E5%AE%9A%E3%81%AE%E5%A4%89%E6%9B%B4">システム設定の変更方法</a><br>
Tutorial 6 : <a href="https://github.com/tkrworks/PICrouter/wiki/MIDI%E3%82%92OSC%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B">MIDIをOSCに変換する</a><br>
Tutorial 7 : <a href="https://github.com/tkrworks/PICrouter/wiki/%E3%83%95%E3%82%A1%E3%83%BC%E3%83%A0%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%AE%E6%9B%B8%E3%81%8D%E6%8F%9B%E3%81%88">ファームウェアの書き換え</a><br>
Tutorial 8 : <a href="https://github.com/tkrworks/PICrouter/wiki/LED_ENC_32%E3%82%92PICrouter%E3%81%A7%E5%88%B6%E5%BE%A1">LED_ENC_32をPICrouterからOSCで制御</a><br>
Tutorial 9 : <a href="https://github.com/tkrworks/PICrouter/wiki/LED_ENC_ABS_32%E3%82%92PICrouter%E3%81%A7%E5%88%B6%E5%BE%A1">LED_ENC_ABS_32をPICrouterで制御</a><br>
Tutorial 10 : <a href="https://github.com/tkrworks/PICrouter/wiki/LED_PAD_16%E3%82%92PICrouter%E3%81%A7%E5%88%B6%E5%BE%A1">LED_PAD_16をPICrouterからOSCで制御</a></p>

<h2>
<a name="tutorial-en" class="anchor" href="#tutorial-en"><span class="octicon octicon-link"></span></a><a name="tutorial-en">Tutorial (EN)</a>
</h2>

<p>Tutorial 0 : <a href="https://github.com/tkrworks/PICrouter/wiki/Introduction">Introduction</a><br>
Tutorial 1 : <a href="https://github.com/tkrworks/PICrouter/wiki/Digital-IO-Control-with-OSC">Digital IO Control with OSC</a><br>
Tutorial 2 : <a href="https://github.com/tkrworks/PICrouter/wiki/Analog-Input-Control-with-OSC">Analog Input Control with OSC</a><br>
Tutorial 3 : <a href="https://github.com/tkrworks/PICrouter/wiki/PWM-Output-Control-with-OSC">PWM Output Control with OSC</a><br>
Tutorial 4 : <a href="https://github.com/tkrworks/PICrouter/wiki/SPI-Configuration-with-OSC">SPI Configuration with OSC</a><br>
Tutorial 5 : <a href="https://github.com/tkrworks/PICrouter/wiki/System-Configuration-with-OSC">System Configuration with OSC</a><br>
Tutorial 6 : <a href="https://github.com/tkrworks/PICrouter/wiki/OSC-MIDI-Bridge">OSC-MIDI Bridge</a><br>
Tutorial 7 : <a href="https://github.com/tkrworks/PICrouter/wiki/Firmware-Update">Firmware Update</a><br>
Tutorial 8 : <a href="https://github.com/tkrworks/PICrouter/wiki/Control-LED_ENC_32-from-PICrouter">Control LED_ENC_32 from PICrouter with OSC</a><br>
Tutorial 9 : <a href="https://github.com/tkrworks/PICrouter/wiki/Control-LED_ENC_ABS_32-from-PICrouter">Control LED_ENC_ABS_32 from PICrouter</a><br>
Tutorial 10 : <a href="https://github.com/tkrworks/PICrouter/wiki/Control-LED_PAD_16-from-PICrouter-with-OSC">Control LED_PAD_16 from PICrouter with OSC</a></p>

<h2>
<a name="supported-osc-messages" class="anchor" href="#supported-osc-messages"><span class="octicon octicon-link"></span></a><a name="supported-osc-messages">Supported OSC Messages</a>
</h2>

<p>See <a href="https://github.com/tkrworks/PICrouter/wiki/Supported-OSC-Messages">osc pages</a>.</p>

<h2>
<a name="supported-hid-commands" class="anchor" href="#supported-hid-commands"><span class="octicon octicon-link"></span></a><a name="supported-hid-commands">Supported HID Commands</a>
</h2>

<p>See <a href="https://github.com/tkrworks/PICrouter/wiki/Supported-HID-Commands">hid pages</a>.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-43651989-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>